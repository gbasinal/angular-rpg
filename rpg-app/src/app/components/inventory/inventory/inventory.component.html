<section class="inventory-component-container">
    <div class="inventory-component-wrapper">
        <div class="inventory-btn-container">
            <button class="btn open-inventory" (click)="openInventory()">Inventory</button>
        </div>
        <div *ngIf="inventoryIsOpen" class="main-inventory-container">
            <div class="dark-overlay" (click)="closeInventory()"></div>
            <div class="inventory-screen-container">
                <div class="container-fluid">
                    <div class="row">
                        <div class="close-button" (click)="closeInventory()">
                            <i class="fa fa-times"></i>
                        </div>
                        <div class="col p-3 hero-tab" *ngFor="let hero of heroParty" [class.selected]="selectedHero === hero" (click)="setSelectedHero(hero)">
                            <h2 class="text-center">
                                {{hero.name}}
                            </h2>
                        </div>
                        <div *ngIf="heroParty.length < 3 && availableHeroes.length && !isFighting" class="col-2 add-hero" (click)="showAvailableHeroes()">
                            <i class="fa fa-plus"></i>
                        </div>
                    </div>
                    <div class="row available-heroes-screen h-100" *ngIf="showAvailableHeroesScreen">
                        <div class="col-4 p-3 text-center" *ngFor="let hero of availableHeroes">
                            <img [src]="hero.spriteUrl" alt="hero.name" class="img-fluid mb-3">
                            <h5>{{hero.name}} - {{hero.characterRole}} -- lvl {{hero.level}}</h5>
                            <div class="row">
                                <div class="col skill d-flex flex-column">
                                    <h6>ATK</h6>
                                    <p>{{hero.skills.attack}}</p>
                                </div>
                                <div class="col skill d-flex flex-column">
                                    <h6>SNK</h6>
                                    <p>{{hero.skills.sneak}}</p>
                                </div>
                                <div class="col skill d-flex flex-column">
                                    <h6>PERS</h6>
                                    <p>{{hero.skills.persuade}}</p>
                                </div>
                                <div class="col skill d-flex flex-column">
                                    <h6>INT</h6>
                                    <p>{{hero.skills.intelligence}}</p>
                                </div>
                            </div>
                            <button class="btn" (click)="addHeroToParty">Add to Party</button>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="!showAvailableHeroesScreen">
                    <div class="col-4 p-3 text-center">
                        <img [src]="selectedHero.spriteUrl" alt="selectedHero.name" class="img-fluid mb-3">
                        <h5>{{selectedHero.name}} -- {{selectedHero.characterRole}} - lvl {{selectedHero.level}}</h5>
                        <div class="row">
                            <div class="col skill d-flex flex-column">
                                <h6>ATK</h6>
                                <p>{{selectedHero.skills.attack}}</p>
                                <p class="improve-skill" *ngIf="selectedHero.availableSkillPoints" (click)="improveSkill(_characterSkills.attack)"><i class="fa fa-plus"></i></p>
                            </div>
                            <div class="col skill d-flex flex-column">
                                <h6>SNK</h6>
                                <p>{{selectedHero.skills.sneak}}</p>
                                <p class="improve-skill" *ngIf="selectedHero.availableSkillPoints" (click)="improveSkill(_characterSkills.sneak)"><i class="fa fa-plus"></i></p>
                            </div>
                            <div class="col skill d-flex flex-column">
                                <h6>PERS</h6>
                                <p>{{selectedHero.skills.persuade}}</p>
                                <p class="improve-skill" *ngIf="selectedHero.availableSkillPoints" (click)="improveSkill(_characterSkills.persuade)"><i class="fa fa-plus"></i></p>
                            </div>
                            <div class="col skill d-flex flex-column">
                                <h6>INT</h6>
                                <p>{{selectedHero.skills.intelligence}}</p>
                                <p class="improve-skill" *ngIf="selectedHero.availableSkillPoints" (click)="improveSkill(_characterSkills.intelligence)"><i class="fa fa-plus"></i></p>
                            </div>
                        </div>
                        <h6 *ngIf="selectedHero.availableSkillPoints">Available Skill Points : {{selectedHero.availableSkillPoints}}</h6>
                        <h6 *ngIf="!selectedHero.availableSkillPoints">Experience : {{selectedHero.experience}} / {{_experienceToLevel[selectedHero.level]}}</h6>
                    </div>
                    <div class="col-4 p-3 text-center d-flex flex-column">
                        <h3 class="mb-5">Equipped Items</h3>
                        <h6>Weapon:</h6>
                        <p class="mb-5">{{selectedHero.equippedWeapon.name}} -- Min Damage : {{selectedHero.equippedWeapon.minDamage}}, Max Damage : {{selectedHero.equippedWeapon.maxDamage}}</p>
                        <h6>Armor:</h6>
                        <p class="mb-5">{{selectedHero.equippedArmor.name}} -- Defense Points : {{selectedHero.equippedArmor.defensePts}}</p>
                        <h3 class="mb-3">Remove Hero from Party</h3>
                        <p *ngIf="selectedHero === mainCharacter">
                            You cannot remove the main character from the party.
                        </p>
                        <button class="btn btn-danger remove-character" *ngIf="selectedHero !== mainCharacter" (click)="removeCharacterFromParty()">Remove</button>
                    </div>
                    <div class="col-4 p-3 text-center d-flex flex-column">
                        <h3>Party Inventory</h3>
                        <div class="inventory-display">
                            <div class="item p-3" *ngFor="let item of inventory">
                                <h6 class="text-left mb-3">
                                    {{item.name}}
                                    <span *ngIf="item.minDamage">-- Weapon -- Min Damage : {{item.minDamage}}, Max Damage : {{item.maxDamage}}</span>
                                    <span *ngIf="item.defensePts">-- Armor -- Defense Points : {{item.defensePts}}</span>
                                </h6>
                                <button class="btn equip-btn" *ngIf="!isFighting" (click)="equipItem(item)">Equip</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>